# poembot
Сам бот: t.me/mipt100bot
Этот проект - это бот, который по названию произведению находит какое-то стихотворение, выдаёт его текст, полное название и автора.
Принцип работы: бот делает на сайте culture.ru/literature/poems поиск по запросу пользователя, если есть хотя бы одна ссылка (возможная), то бот переходит по ней, если нет, то просит пользователя написать рабочий запрос.
После того, как бот переходит по ссылке, он парсит html-код страницы и ищет название произведения, автора и собственно, сам текст, потом выдаёт его пользователю.
Поиск выполняется по этому сайту, там более 5000 возможных стихотворений, хоть и нет зарубежных стихотворений.
Что за что отвечает:

Библиотеки:

telebot - сама библиотека работы с ботом, bs4 - обеспечивает удобный парсер html страницы и поиск нужных сочетаний, requests - выдаёт необходимый код страницы.

Функции:

start_bot(message) - старт бота, пишет сообщение после ввода /start (начала пользования).

response(function_call) - реализует ответ бота после /start

get_text_message(message) - основная функция, которая принимает сообщение от пользователя (скажем "брбр"), выполняет поиск "брбр" в поисковой строке сайта, переходит по первой ссылке (наиболее подходящей) и ищет текст там.

Из дополнительного функционала реализовал обёртку бота в Docker и деплойнул его на сервер.

1) Обёртка бота в Docker:

Для этого есть файлы Dockerfile, .dockerignore, compose.yaml, requrements.txt
В чём принцип работы: клонируем репозиторий, запускаем виртуальное окружение, устанавливаем библиотеки из requrements.txt, запускаем сам docker через команду:
docker compose up --build
Запускается сам контейнер.

2) Деплой на сервере:

Бот деплойнут на сервер (можно проверить, он работает фулл-тайм), бот на сервере работает через docker, можно проверить, вот данные сервера:

ОС Ubuntu 22.04
IP 178.20.40.125
Пользователь root
Пароль HBpTQMa4UBZCzzFs

Docker контейнер запущен, проверяется через docker ps
